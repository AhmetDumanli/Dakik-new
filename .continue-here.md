---
status: in_progress
feature: Public/Private, User Profiles, Friendship System
last_updated: 2026-02-06
---

# Public/Private & Friendship System - Handoff

## Mevcut Durum

Temel ozellikler (Public/Private, User Profiles, Friendship) onceki oturumda commit edildi (`68ca8f1`). Uzerine bug fix'ler ve iyilestirmeler eklendi ama HENUZ COMMIT EDILMEDI.

## Commit Edilmis (68ca8f1)

Tum temel backend ve frontend ozellikleri:
- User entity: bio, profilePhotoUrl, isPublic alanlari
- Friendship entity, repo, service, controller (tam CRUD)
- Event entity: isPublic alani, public feed
- Frontend: ProfilePage, FriendsPage, EventsPage sekmeleri
- API Gateway: friendship route, JWT auth

## Commit Edilmemis Degisiklikler (bug fix + iyilestirmeler)

### User Service
- `GET /users/name/{name}` — isim ile kullanici arama endpoint'i (UserController, UserService, UserRepo)
- `UserNotFoundException(String name)` — isim ile hata mesaji
- `GlobalExceptionHandler` — generic Exception catch-all eklendi (log + detayli mesaj)

### Event/Appointment Service
- `GlobalExceptionHandler` — generic Exception catch-all eklendi

### API Gateway
- `RouteValidator` — `GET /events` (exact match) public endpoint olarak eklendi
- `application.properties` — `/friendships/**` route eklendi (index 2), event ve appointment route'lari kaydirild (3, 4)

### Frontend
- **api.js** — `getUserByName()`, `updateProfile()`, `getPublicEvents()`, friendship fonksiyonlari, `createEvent` isPublic parametresi, `parseError` 401 redirect fix (login sayfasinda redirect yapma)
- **ProfilePage.jsx** — YENI: profil goruntuleme + duzenleme formu
- **FriendsPage.jsx** — YENI: arkadas istegi (isim ile arama), bekleyen istekler, arkadas listesi
- **EventsPage.jsx** — Public/Etkinliklerim sekmeleri, isim ile kullanici arama, isPublic checkbox, private badge
- **Navbar.jsx** — Arkadaslar + Profil linkleri
- **App.jsx** — /profile ve /friends protected route'lari

## Bilinen Sorunlar

1. **Docker cache sorunu** — Frontend degisiklikleri Docker'da gorunmuyor. Cozum: `docker-compose build --no-cache frontend` veya `docker-compose down -v && docker-compose up --build`
2. **500 hatasi kayit olurken** — Muhtemelen veritabani schema (yeni NOT NULL kolonlar). Volume sifirlanmali: `docker-compose down -v`
3. **Test yapilmadi** — Hicbir ozellik Docker uzerinde test edilmedi

## Sonraki Oturumda Yapilacaklar

1. `docker-compose down -v && docker-compose up --build` ile temiz baslat (volume + no-cache)
2. Kayit ol ve login test et
3. Profil sayfasini test et
4. Event olustur (public + private), public feed kontrol et
5. Ikinci kullanici ile arkadaslik akisini test et
6. Sorun yoksa uncommitted degisiklikleri commit et
7. Sonraki ozellik planlamasi
